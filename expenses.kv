#:kivy 2.1.0

<Edit_Expenses_layout>
    orientation: "vertical"
    spacing: "20sp"
    md_bg_color: app.theme_cls.bg_dark
    size_hint_y: None
    height: "400dp"
    expenseType: expenseType
    expenseName: expenseName
    expenseAmount: expenseAmount
    expenseDate: expenseDate
    ScrollView:
        do_scroll_x: False
        smooth_scroll_end: 10
        MDList:
            spacing: "14dp"
            MDList:
                id: bank_mdEdit
                spacing: "7dp"
                MDTextField:
                    id: expenseType
                    multiline: False
                    mode: "fill"
                    hint_text: 'Expenses type(Fixed, Variable)'
                    text: ""
                MDTextField:
                    id: expenseName
                    multiline: False
                    mode: "fill"
                    hint_text: 'Expenses Name'
                    text: ""
                MDTextField:
                    id: expenseAmount
                    multiline: False
                    mode: "fill"
                    hint_text: 'Expenses Amount'
                    text: ""
                MDTextField:
                    id: expenseDate
                    multiline: False
                    mode: "fill"
                    hint_text: 'Expenses Date'
                    text: ""
                    validator: "date"
                    date_format: "dd/mm/yyyy"
                    date_interval: None, app.ToDay
                    helper_text: "use dd/mm/yyyy format date"
                MDRaisedButton:
                    padding: "5sp"
                    text: 'Save Changes'
                    on_release: root.saveChanges()


<New_Var_Expense_layout>
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
    varExpenseItem: varExpenseItem
    varExpenseAmount: varExpenseAmount
    varExpenseDate: varExpenseDate
	ScrollView:
		smooth_scroll_end: 10
		MDList:
			spacing: "15dp"
            MDTextField:
                id: varExpenseItem
                multiline: False
                mode: "rectangle"
                hint_text: 'Item Name'
            MDTextField:
                id: varExpenseAmount
                multiline: False
                mode: "rectangle"
                hint_text: 'Amount'
            MDTextField:
                id: varExpenseDate
                multiline: False
                mode: "rectangle"
                hint_text: 'Expense Date'
                validator: "date"
                date_format: "dd/mm/yyyy"
                date_interval: None, app.ToDay
                helper_text: "use dd/mm/yyyy format date"

            MDRaisedButton:
                text: 'Save'
                on_release: root.addNewVarExpense()

<New_FExpense_layout>
    id: new_fexpense
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
    fExpenseItem: fExpenseItem
    fExpenseAmount: fExpenseAmount
    fExpenseDate: fExpenseDate
	ScrollView:
		smooth_scroll_end: 10
		MDList:
			spacing: "15dp"
            MDTextField:
                id: fExpenseItem
                multiline: False
                mode: "rectangle"
                hint_text: 'Item Name'
            MDTextField:
                id: fExpenseAmount
                multiline: False
                mode: "rectangle"
                hint_text: 'Amount'
            MDTextField:
                id: fExpenseDate
                multiline: False
                mode: "rectangle"
                hint_text: 'Expens Date'
                validator: "date"
                date_format: "dd/mm/yyyy"
                date_interval: None, app.ToDay
                helper_text: "use dd/mm/yyyy format date"

            MDRaisedButton:
                text: 'Save'
                on_release: root.addNewFExpense()

<MDXpense>
    focus_behavior: True
    size_hint: None, None
    size: '385dp', '50dp'
    pos_hint: {'center_x': .5, 'center_y': .5}
    ripple_behavior: True
    elevation: 4
    unfocus_color: app.theme_cls.bg_normal
    focus_color: app.theme_cls.bg_dark
    md_bg_color: app.theme_cls.bg_normal
    on_release: root.expenseEdit()
    MDBoxLayout:
        orientation: "horizontal"
        pos_hint: {'center_x': .5, 'center_y': .5}
        padding: 10
        spacing: "5sp"
        MDLabel:
            id: expenseName
            font_size: '14sp'
            markup: True
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: root.expenseName
        MDLabel:
            id: expenseAmount
            font_size: '14sp'
            markup: True
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: root.expenseAmount
        MDLabel:
            id: expenseDate
            font_size: '13.5sp'
            markup: True
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: root.expenseDate


Expneses:
    name: "expense"
    fixedExpenses: fixedExpenses
    variableExpenses: variableExpenses
    monthDropDownMenuCaller: monthDropDownMenuCaller
    MDScreen:
        MDBoxLayout:
            orientation: 'vertical'
            spacing: 1
            MDTopAppBar:
                widget_position: 'top'
                title: "Expenses"
                left_action_items: [["arrow-left", lambda x:app.backHome(), "Back"]]
                right_action_items: [["export-variant", lambda x:root.exportExpenses()]]
                specific_text_color: app.theme_cls.opposite_bg_normal
                md_bg_color: app.theme_cls.bg_dark
                elevation: 1
            ScrollView:
                do_scroll_x: False
                do_scroll_y: False
                smooth_scroll_end: 10
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: 7
                    adaptive_size: True
                    MDCard:
                        #focus_behavior: True
                        size_hint: None, None
                        size: '390dp', '30dp'
                        #unfocus_color: app.theme_cls.bg_normal
                        #focus_color: app.theme_cls.bg_dark
                        md_bg_color: app.theme_cls.bg_normal
                        pos_hint: {'center_x': .5}
                        elevation: 1

                        MDBoxLayout:
                            orientation: "horizontal"
                            MDLabel:
                                id: monthDropDownMenuCaller
                                text: 'Oct'
                                font_size: '20sp'
                                bold: True
                                #halign: 'left'
                                pos_hint: {'center_y': .5, 'x': .6}
                            MDIconButton:
                                icon: "chevron-down"
                                icon_size: "30sp"
                                halign: 'right'
                                theme_icon_color: "Custom"
                                pos_hint: {'center_y': .5, 'x': .8}
                                on_release: root.main_monthMenu.open()

                    MDCard:
                        #focus_behavior: True
                        size_hint: None, None
                        size: '390dp', '320dp'
                        unfocus_color: app.theme_cls.bg_normal
                        focus_color: app.theme_cls.bg_dark
                        md_bg_color: app.theme_cls.bg_normal
                        pos_hint: {'center_x': .5}
                        elevation: 3
                        #ripple_behavior: True
                        MDBoxLayout:
                            orientation: "vertical"
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            OneLineAvatarIconListItem:
                                markup: True
                                text: '[b]Fixed[/b]'
                                radius: [15,15,0,0]
                                valign: 'center'
                                pos_hint: {'center_y': .5}
                                divider_color: app.theme_cls.primary_dark
                                #size_hint_y: .18
                                _no_ripple_effect: True
                                IconRightWidget:
                                    icon: "plus"
                                    icon_size: "30sp"
                                    theme_icon_color: "Custom"
                                    icon_color: app.theme_cls.primary_dark
                                    on_release: root.addFixedE()
                            MDGridLayout:
                                cols: 3
                                padding: "12sp"
                                spacing: "7sp"
                                adaptive_height: True
                                MDLabel:
                                    bold: True
                                    text: 'Item'
                                    color: [167/255, 167/255, 167/255, .7]
                                MDLabel:
                                    bold: True
                                    markup: True
                                    text: '[color=#ff005a][b]Amount[/color][/b]'
                                    color: [167/255, 167/255, 167/255, .7]
                                MDLabel:
                                    bold: True
                                    markup: True
                                    text: '[color=#02f363][b]Date[/color][/b]'
                                    color: [167/255, 167/255, 167/255, .7]                                    

                            ScrollView:
                                do_scroll_x: False
                                smooth_scroll_end: 10
                                size_hint_y: .8
                                MDBoxLayout:
                                    id: fixedExpenses
                                    adaptive_size: True
                                    padding: "5sp", "10sp", "10sp", "0sp"
                                    spacing: "7sp"
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    orientation: 'vertical'
                                    # here is where the expenses add up by card

                    MDCard:
                        #focus_behavior: True
                        size_hint: None, None
                        size: '390dp', '320dp'
                        unfocus_color: app.theme_cls.bg_normal
                        focus_color: app.theme_cls.bg_dark
                        md_bg_color: app.theme_cls.bg_normal
                        pos_hint: {'center_x': .5}
                        elevation: 3
                        #ripple_behavior: True
                        MDBoxLayout:
                            orientation: "vertical"
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            OneLineAvatarIconListItem:
                                markup: True
                                text: '[b]Variable[/b]'
                                radius: [15,15,0,0]
                                valign: 'center'
                                pos_hint: {'center_y': .5}
                                divider_color: app.theme_cls.primary_dark
                                #size_hint_y: .18
                                _no_ripple_effect: True
                                IconRightWidget:
                                    icon: "plus"
                                    icon_size: "30sp"
                                    theme_icon_color: "Custom"
                                    icon_color: app.theme_cls.primary_dark
                                    on_release: root.addVarE()
                            MDGridLayout:
                                cols: 4
                                padding: "12sp"
                                spacing: "7sp"
                                adaptive_height: True
                                MDLabel:
                                    bold: True
                                    text: 'Item'
                                    color: [167/255, 167/255, 167/255, .7]
                                MDLabel:
                                    bold: True
                                    markup: True
                                    text: '[color=#ff005a][b]Amount[/color][/b]'
                                    color: [167/255, 167/255, 167/255, .7]
                                MDLabel:
                                    bold: True
                                    markup: True
                                    text: '[color=#02f363][b]Date[/color][/b]'
                                    color: [167/255, 167/255, 167/255, .7]                                    
                            ScrollView:
                                do_scroll_x: False
                                smooth_scroll_end: 10
                                size_hint_y: .8
                                MDBoxLayout:
                                    id: variableExpenses
                                    adaptive_size: True
                                    padding: "5sp", "10sp", "10sp", "0sp"
                                    spacing: "7sp"
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    orientation: 'vertical'
                                    # here is where the expenses add up by card
