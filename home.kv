#:kivy 2.1.0
<New_customer_layout>:
	customer_name: customer_name
    company_name: company_name
	customer_tin_number: customer_tin_number
    customer_city: customer_city
	customer_phone_number: customer_phone_number
	customer_frequency_of_purchase: customer_frequency_of_purchase
	customer_account_created_date: customer_account_created_date
	customer_total_purchase: customer_total_purchase
	customer_bank_account_number: customer_bank_account_number
	id: new_customer_layout
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
	ScrollView:
		smooth_scroll_end: 10
		MDList:
			spacing: "5dp"
            MDTextField:
                id: customer_name
                multiline: False
                mode: "rectangle"
                hint_text: 'Customer Name'
            MDTextField:
                id: company_name
                multiline: False
                mode: "rectangle"
                hint_text: 'Company Name'
            MDTextField:
                id: customer_tin_number
                hint_text: "Tin Number"
                multiline: False
                mode: "rectangle"
            MDTextField:
                id: customer_city
                hint_text: "Customer City"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_phone_number
                hint_text: "Phone Number"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_account_created_date
                hint_text: "Account Created Date"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_frequency_of_purchase
                hint_text: "Frequency of Purchase"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_total_purchase
                hint_text: "Total Purchase"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_bank_account_number
                hint_text: "Bank Account Number"
                text: ''
                mode: "rectangle"
                multiline: False
            MDRaisedButton:
                text: 'Save'
                on_release: root.addNewCustomer()

<Detail_item_layout>
    id: detail_item_layout
    item_name: item_name
    item_quantity: item_quantity
    purchased_price: purchased_price
    purchased_date: purchased_date
    single_selling_price: single_selling_price
    bulk_selling_price: bulk_selling_price
    updated_at: updated_at
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
    ScrollView:
        smooth_scroll_end: 10
        MDList:
            TwoLineListItem:
                id: item_name
                text: 'Item Name'
                secondary_text: ''
            TwoLineListItem:
                id: item_quantity
                text: 'Quantity'
                secondary_text: ''
            TwoLineListItem:
                id: purchased_price
                text: 'Purchased Price'
                secondary_text: ''
            TwoLineListItem:
                id: purchased_date
                text: 'Purchased Date'
                secondary_text: ''
            TwoLineListItem:
                id: single_selling_price
                text: 'Single Selling Price'
                secondary_text: ''
            TwoLineListItem:
                id: bulk_selling_price
                text: 'Bulk Selling Price'
                secondary_text: ''
            TwoLineListItem:
                id: updated_at
                text: 'Updated at'
                secondary_text: ''
           

<New_stock_layout>
	id: new_stock_layout
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
    item_name: item_name
    item_quantity: item_quantity
    purchased_price: purchased_price
    purchased_date: purchased_date
    selling_price_single: selling_price_single
    selling_price_bulk: selling_price_bulk
	height: "400dp"
    ScrollView:
        smooth_scroll_end: 10
        MDList:
            spacing: "4dp"
            MDTextField:
                id: item_name
                multiline: False
                mode: "rectangle"
                hint_text: 'Item Name'
                #text: 'yellow pigment'
            MDTextField:
                id: item_quantity
                multiline: False
                mode: "rectangle"
                hint_text: 'Item Quantity'
                #text: '5'
            MDTextField:
                id: purchased_price
                multiline: False
                mode: "rectangle"
                hint_text: 'Purchased Price'
                #text: '10'
            MDTextField:
                id: purchased_date
                multiline: False
                mode: "rectangle"
                hint_text: 'Purchased date'			
                #text: '6/10/2022'
            MDTextField:
                id: selling_price_single
                multiline: False
                mode: "rectangle"
                hint_text: 'Selling Price(single)'
                #text: '15'
            MDTextField:
                id: selling_price_bulk
                multiline: False
                mode: "rectangle"
                hint_text: 'Selling Price(Bulk)'
                #text: '12'
            MDRaisedButton:
            #divider: 'Inset'
                text: 'Save'
                on_release: root.addNewItem()

<MDCustomCard>
    focus_behavior: True
    size_hint: None, None
    size: '310dp', '250dp'
    unfocus_color: app.theme_cls.bg_normal
    focus_color: app.theme_cls.bg_dark
    md_bg_color: app.theme_cls.bg_normal
    pos_hint: {'center_x': .5, 'center_y': .5}
    elevation: 3
    ripple_behavior: True
    MDBoxLayout:
        orientation: 'vertical'
        TwoLineAvatarIconListItem:
            id: customerCompanyName
            markup: True
            id: companyAndCustomerName
            text: '[b]  '+root.companyName+'[/b]'
            secondary_text: '   '+root.customerName
            divider_color: app.theme_cls.primary_dark
            radius: [15, 15, 0, 0]
            elevation: 3
            #tertiary_text: #customer_id
            IconLeftWidget:
                icon: "account-circle"
                icon_size: "50sp"
                theme_icon_color: "Custom"
                disabled_color: app.theme_cls.primary_dark
                disabled: True
            IconRightWidget:
                icon: "pencil-outline"
                icon_size: "30sp"
                theme_icon_color: "Custom"
                icon_color: app.theme_cls.primary_dark
                on_release:
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: "15sp"
            MDList:
                size_hint_x: .6
                spacing: "7dp"
                padding: "7dp"
                MDRoundFlatIconButton:
                    markup: True
                    disabled: True
                    #disabled_color: 
                    line_color_disabled: (136/255, 0, 255/255, 0.82)
                    icon: 'plus'
                    halign: 'center'
                    line_width: 1.5
                    text: 'Phone Number\n'+root.customerPhoneNumber
                MDRoundFlatIconButton:
                    markup: True
                    #disabled_color: "red"
                    line_color_disabled: (187/255, 61/255, 255/255, 0.9)
                    icon: 'plus'
                    halign: 'center'
                    line_width: 1.5
                    disabled: True
                    text: '   Tin Number   \n' + root.customerTinNumber
                MDRoundFlatIconButton:
                    markup: True
                    #disabled_color: 
                    line_color_disabled: (81/255, 120/255, 248/255, 0.7)
                    icon: 'plus'
                    halign: 'center'
                    line_width: 1.5
                    disabled: True
                    text: 'Total Purchase\n' + root.totalPurchased
                
            ScrollView:
                size_hint_x: .2
                smooth_scroll_end: 10
                MDList:
                    id: itemPurchased
                    spacing: "4dp"
            


<MDashCard>
    focus_behavior: True
    size_hint: None, None
    size: '305dp', '105dp'
    unfocus_color: app.theme_cls.bg_normal
    focus_color: app.theme_cls.bg_dark
    md_bg_color: app.theme_cls.bg_normal
    #unfocus_color: root.unfocu_color
    #focus_color: root.focu_color
    #md_bg_color: root.unfocu_color
    elevation: 3
    ripple_behavior: True
    MDRelativeLayout:
        MDLabel:
            bold: True
            pos_hint: {"x":.1, "y":.27}
            font_size: '14sp'
            text: root.text1
        MDLabel:
            bold: True
            pos_hint: {"x":.11, "y": .07}
            font_size: '25sp'
            text: root.text2
            color: root.cpbBarColor
        MDLabel:
            #bold: True
            pos_hint: {"x":.1, "y":-.2}
            font_size: '13sp'
            text: root.text3
            color: [167/255, 167/255, 167/255, .7]
        MDIconButton:
            icon: root.updownIcon
            disabled: True
            theme_icon_color: "Custom"
            pos_hint: {"x":.87, "y":.57}
            disabled_color: root.cpbBarColor
        MDFloatLayout:
            #md_bg_color: 1, 0, 100/255, .1
            CircularProgressBar:
                size_hint: None, None
                size: 50, 50
                pos_hint: {"x": .75, "y": .3}
                value: root.cpbValue
                bar_color: root.cpbBarColor

<CircularProgressBar>
    canvas.before:
        Color:
            rgba: root.bar_color + [0.3]
        Line:
            width: root.bar_width
            ellipse: (self.x, self.y, self.width, self.height, 0, 360)
    canvas.after:
        Color:
            rgb: root.bar_color
        Line:
            width: root.bar_width
            ellipse: (self.x, self.y, self.width, self.height, 0, root.set_value*3.6)
    MDLabel:
        text: root.text
        bold: True
        font_size: "15sp"
        pos_hint: {"center_x": .5, "center_y": .5}
        halign: "center"
        color: root.bar_color

Home:
    name: "home"
    tock_tab: tock_tab
    customerTab: customerTab
    MDScreen:
        MDBottomNavigation:
            #panel_color: app.theme_cls.primary_light
            #text_color_no rmal: app.theme_cls.bg_normal
            text_color_normal: app.theme_cls.opposite_bg_normal
            selected_color_background: app.theme_cls.bg_normal
            set_bars_color: True
            MDBottomNavigationItem:
                name: 'dashboard'
                text: 'Home'
                icon: 'home-outline'
                DashBoard:
                    MDScreen:
                        MDBoxLayout:
                            orientation: 'vertical'
                            spacing: 20
                            MDTopAppBar:
                                widget_position: 'top'
                                title: "DashBoard"
                                left_action_items: [["sort-variant"]]
                                right_action_items: [["tune-variant"]]
                                specific_text_color: app.theme_cls.opposite_bg_normal
                                md_bg_color: app.theme_cls.bg_normal
                                elevation: 1
                            ScrollView:
                                do_scroll_x: False
                                smooth_scroll_end: 10
                                MDBoxLayout:
                                    adaptive_size: True
                                    padding: "10sp"
                                    spacing: "17dp"
                                    orientation: 'vertical'
                                    pos_hint: {"center_x": .5, "center_y": .5}
                                    MDLabel:
                                        text: 'Hello Bety'
                                        bold: True
                                        font_size: '28sp'
                                    MDLabel:
                                        text: ''    
                                    MDLabel:
                                        font_size: '15sp'
                                        text: 'Welcome Back!'
                                        color: [167/255, 167/255, 167/255, .5]
                                    MDashCard:
                                        id: sales
                                        focu_color: 1, 0, 100/255, .2
                                        unfocu_color: 1, 0, 100/255, .15
                                        text1: 'Sales'
                                        text2: '$40000'
                                        text3: 'Total Profit This Month'
                                        updownIcon: 'arrow-top-right'
                                        cpbValue: 37
                                        cpbBarColor: [250/255, 115/255, 0]
                                    MDashCard:
                                        id: profitCard
                                        focu_color: 1, 0, 100/255, .2
                                        unfocu_color: 1, 0, 100/255, .15
                                        text1: 'Profit'
                                        text2: '$40000'
                                        text3: 'Total Profit This Month'
                                        updownIcon: 'arrow-bottom-right'
                                        cpbValue: 42
                                        cpbBarColor: [38/255, 255/255, 0]
                                    MDashCard:
                                        id: customersCard
                                        focu_color: 1, 0, 100/255, .2
                                        unfocu_color: 1, 0, 100/255, .15
                                        text1: 'Customers'
                                        text2: '40000'
                                        text3: 'Total Profit This Month'
                                        updownIcon: 'arrow-top-right'
                                        cpbValue: 67
                                        cpbBarColor: [0, 163/255, 250/255]
                                    MDashCard:
                                        id: customersCard
                                        focu_color: 1, 0, 100/255, .2
                                        unfocu_color: 1, 0, 100/255, .15
                                        text1: 'Expense'
                                        text2: '$40000'
                                        text3: 'Total Profit This Month'
                                        updownIcon: 'arrow-bottom-right'
                                        cpbValue: 22
                                        cpbBarColor: [1, 0, 100/255]

            MDBottomNavigationItem:
                name: 'stock'
                icon: 'poll'
                text: 'Stock'
                #icon: 'chart-box-outline'
                on_tab_release: root.stockFunc()
                MDBoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        widget_position: 'top'
                        title: "Stock"
                        left_action_items: [["sort-variant"]]
                        right_action_items: [["tune-variant"]]
                        specific_text_color: app.theme_cls.opposite_bg_normal
                        md_bg_color: app.theme_cls.bg_normal
                        elevation: 1
                    MDFloatLayout:
                        id: tock_tab
                        md_bg_color: app.theme_cls.bg_normal

                #Stock:
                    #stock_tab: stock_tab
                    #MDScreen:
                        #id: stock_tab    
                    
            MDBottomNavigationItem:
                name: 'sales'
                text: 'Sales'
                #icon: 'chart-timeline-variant'
                icon: 'trending-up'
                MDLabel:
                    text: 'Slaes'
                    halign: 'center'
            MDBottomNavigationItem:
                name: 'cashFlow'
                text: 'Cash'
                icon: 'wallet-outline'
                MDLabel:
                    text: 'Cash flow'
                    halign: 'center'

            MDBottomNavigationItem:
                name: 'customer'
                text: 'Customer'
                icon: 'account-multiple-outline'
                on_tab_release: root.customerFunc()
                MDBoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        widget_position: 'top'
                        title: "Customers"
                        left_action_items: [["sort-variant"]]
                        right_action_items: [["plus", lambda x: root.newCustomer(), "Add"]]
                        specific_text_color: app.theme_cls.opposite_bg_normal
                        md_bg_color: app.theme_cls.bg_normal
                        elevation: 1
                    ScrollView:
                        do_scroll_x: False
                        smooth_scroll_end: 10    
                        MDBoxLayout:
                            id: customerTab
                            adaptive_size: True
                            padding: "10sp"
                            spacing: "17sp"
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            orientation: 'vertical'