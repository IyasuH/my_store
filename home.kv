#:kivy 2.1.0
#:import Home main.Home

<BankConfirm>
    on_release: root.set_icon(check)
    CheckboxLeftWidget:
        id: check
        group: "check"
        disabled: True
        disabled_color: app.theme_cls.primary_color


<Edit_Item_layout>
    orientation: "vertical"
    spacing: "20sp"
    md_bg_color: app.theme_cls.bg_dark
    size_hint_y: None
    height: "400dp"
    itemName: itemName
    itemQuantity: itemQuantity
    purchasedAt: purchasedAt
    sellingPS: sellingPS
    sellingPB: sellingPB
    ScrollView:
        do_scroll_x: False
        smooth_scroll_end: 10
        MDList:
            spacing: "14dp"
            MDList:
                id: bank_mdEdit
                spacing: "7dp"
                MDTextField:
                    id: itemName
                    multiline: False
                    mode: "fill"
                    hint_text: 'Item Name'
                    text: ""
                MDTextField:
                    id: itemQuantity
                    multiline: False
                    mode: "fill"
                    hint_text: 'Quantity'
                    text: ""
                MDTextField:
                    id: purchasedAt
                    multiline: False
                    mode: "fill"
                    hint_text: 'Purchased At'
                    text: ""
                    validator: "date"
                    date_format: "dd/mm/yyyy"
                    date_interval: None, app.ToDay
                    helper_text: "use dd/mm/yyyy format date"
                MDTextField:
                    id: sellingPS
                    multiline: False
                    mode: "fill"
                    hint_text: 'Selling Price Single'
                    text: ""
                MDTextField:
                    id: sellingPB
                    multiline: False
                    mode: "fill"
                    hint_text: 'Selling Price Bulk'
                    text: ""
                MDRaisedButton:
                    padding: "5sp"
                    text: 'Save Changes'
                    on_release: root.saveChanges()


<Edit_Customer_layout>
    orientation: "vertical"
    spacing: "20sp"
    md_bg_color: app.theme_cls.bg_dark
    size_hint_y: None
    height: "400dp"
    customerName: customerName
    companyName: companyName
    tinNumber: tinNumber
    customerCity: customerCity
    customerPhoneN: customerPhoneN
    accountCreatedAt: accountCreatedAt
    frequencyOfP: frequencyOfP
    totalP: totalP
    accountNumber: accountNumber
    ScrollView:
        do_scroll_x: False
        smooth_scroll_end: 10
        MDList:
            spacing: "14dp"
            MDList:
                id: bank_mdEdit
                spacing: "7dp"
                MDTextField:
                    id: customerName
                    multiline: False
                    mode: "fill"
                    hint_text: 'Customer Name'
                    text: ""
                MDTextField:
                    id: companyName
                    multiline: False
                    mode: "fill"
                    hint_text: 'Company Name'
                    text: ""
                MDTextField:
                    id: tinNumber
                    multiline: False
                    mode: "fill"
                    hint_text: 'Tin Number'
                    text: ""
                MDTextField:
                    id: customerCity
                    multiline: False
                    mode: "fill"
                    hint_text: 'City'
                    text: ""
                MDTextField:
                    id: customerPhoneN
                    multiline: False
                    mode: "fill"
                    hint_text: 'Phone Number'
                    text: ""
                MDTextField:
                    id: accountCreatedAt
                    multiline: False
                    mode: "fill"
                    hint_text: 'Created At'
                    text: ""
                    validator: "date"
                    date_format: "dd/mm/yyyy"
                    date_interval: None, app.ToDay
                    helper_text: "use dd/mm/yyyy format date"
                MDTextField:
                    id: frequencyOfP
                    multiline: False
                    mode: "fill"
                    hint_text: 'Frequency Of Purchase'
                    text: ""
                MDTextField:
                    id: totalP
                    multiline: False
                    mode: "fill"
                    hint_text: 'Total Purchase'
                    text: ""
                MDTextField:
                    id: accountNumber
                    multiline: False
                    mode: "fill"
                    hint_text: 'Account Number'
                    text: ""

                MDRaisedButton:
                    padding: "5sp"
                    text: 'Save Changes'
                    on_release: root.saveChanges()


<New_sales_layout>
	id: new_sales_layout
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
    item_id: item_id
    customer_id: customer_id
    item_quantitiy: item_quantitiy
    sold_date: sold_date
    sales_revenue: sales_revenue
    bank_id: bank_id
	ScrollView:
		smooth_scroll_end: 10
		MDList:
			spacing: "15dp"
            MDTextField:
                # here make here to select from dropDown list
                # or to add it CORRECTLY manualy then search for it in the code
                id: item_id
                multiline: False
                mode: "rectangle"
                hint_text: 'item id'
                on_focus: if self.focus: root.listItem.open()
            MDTextField:
                # here mtake here to select from dropDown list
                # or to add it CORRECTLY manualy then search for it in the code
                id: customer_id
                multiline: False
                mode: "rectangle"
                hint_text: 'customer id'
                on_focus: if self.focus: root.listCustomer.open()
            MDTextField:
                id: bank_id
                multiline: False
                mode: "rectangle"
                hint_text: 'Bank Id(if in cash add None)'
                on_focus: if self.focus: root.listBank.open()
            MDTextField:
                id: item_quantitiy
                multiline: False
                mode: "rectangle"
                hint_text: 'Quanitity'
            MDTextField:
                id: sold_date
                multiline: False
                mode: "rectangle"
                validator: "date"
                date_format: "dd/mm/yyyy"
                date_interval: None, app.ToDay
                hint_text: "sales date(01/01/2022)"
                helper_text: "use dd/mm/yyyy format date"
                icon_right: "calendar"
                # here to load calendar
                #on_focus: if self.focus: 
            MDTextField:
                id: sales_revenue
                multiline: False
                mode: "rectangle"
                hint_text: 'Sales Revenue'

                # here add the normal price quantity*price_of_quantity
                on_focus: if self.focus: root.calSalesReve()
            MDRaisedButton:
            #divider: 'Inset'
                text: 'Save'
                on_release: root.addNewSales()
            

<New_customer_layout>:
	customer_name: customer_name
    company_name: company_name
	customer_tin_number: customer_tin_number
    customer_city: customer_city
	customer_phone_number: customer_phone_number
	customer_frequency_of_purchase: customer_frequency_of_purchase
	customer_account_created_date: customer_account_created_date
	customer_total_purchase: customer_total_purchase
	customer_bank_account_number: customer_bank_account_number
	id: new_customer_layout
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
	ScrollView:
		smooth_scroll_end: 10
		MDList:
			spacing: "5dp"
            MDTextField:
                id: customer_name
                multiline: False
                mode: "rectangle"
                hint_text: 'Customer Name'
            MDTextField:
                id: company_name
                multiline: False
                mode: "rectangle"
                hint_text: 'Company Name'
            MDTextField:
                id: customer_tin_number
                hint_text: "Tin Number"
                multiline: False
                mode: "rectangle"
            MDTextField:
                id: customer_city
                hint_text: "Customer City"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_phone_number
                hint_text: "Phone Number"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_account_created_date
                hint_text: "Account Created Date"
                mode: "rectangle"
                validator: "date"
                date_format: "dd/mm/yyyy"
                date_interval: None, app.ToDay
                helper_text: "use dd/mm/yyyy format date"
                multiline: False
            MDTextField:
                id: customer_frequency_of_purchase
                hint_text: "Frequency of Purchase"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_total_purchase
                hint_text: "Total Purchase"
                mode: "rectangle"
                multiline: False
            MDTextField:
                id: customer_bank_account_number
                hint_text: "Bank Account Number"
                text: ''
                mode: "rectangle"
                multiline: False
            MDRaisedButton:
                text: 'Save'
                on_release: root.addNewCustomer()

<Detail_sales_layout>
    id: detail_sales_layout
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
    itemId: itemId
    customerId: customerId
    bankId: bankId
    itemQuantity: itemQuantity
    soldAt: soldAt
    salesRevenu: salesRevenu
    ScrollView:
        smooth_scroll_end: 10
        MDList:
            TwoLineListItem:
                id: itemId
                text: 'Item Id'
                secondary_text: ''
            TwoLineListItem:
                id: customerId
                text: 'customer Id'
                secondary_text: ''
            TwoLineListItem:
                id: bankId
                text: 'Bank Id'
                secondary_text: ''
            TwoLineListItem:
                id: itemQuantity
                text: 'Item Quantity'
                secondary_text: ''
            TwoLineListItem:
                id: soldAt
                text: 'Sold Date'
                secondary_text: ''
            TwoLineListItem:
                id: salesRevenu
                text: 'Sales Revenu'
                secondary_text: ''


<Detail_item_layout>
    id: detail_item_layout
    item_name: item_name
    item_quantity: item_quantity
    purchased_date: purchased_date
    single_selling_price: single_selling_price
    bulk_selling_price: bulk_selling_price
    updated_at: updated_at
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
	height: "400dp"
    ScrollView:
        smooth_scroll_end: 10
        MDList:
            TwoLineListItem:
                id: item_name
                text: 'Item Name'
                secondary_text: ''
            TwoLineListItem:
                id: item_quantity
                text: 'Quantity'
                secondary_text: ''
            TwoLineListItem:
                id: purchased_date
                text: 'Purchased Date'
                secondary_text: ''
            TwoLineListItem:
                id: single_selling_price
                text: 'Single Selling Price'
                secondary_text: ''
            TwoLineListItem:
                id: bulk_selling_price
                text: 'Bulk Selling Price'
                secondary_text: ''
            TwoLineListItem:
                id: updated_at
                text: 'Updated at'
                secondary_text: ''


<New_stock_layout>
	id: new_stock_layout
	orientation: "vertical"
	spacing: "20sp"
	md_bg_color: app.theme_cls.bg_dark
	size_hint_y: None
    item_name: item_name
    item_quantity: item_quantity
    purchased_date: purchased_date
    selling_price_single: selling_price_single
    selling_price_bulk: selling_price_bulk
	height: "400dp"
    ScrollView:
        smooth_scroll_end: 10
        MDList:
            spacing: "4dp"
            MDTextField:
                id: item_name
                multiline: False
                mode: "rectangle"
                hint_text: 'Item Name'
                #text: 'yellow pigment'
            MDTextField:
                id: item_quantity
                multiline: False
                mode: "rectangle"
                hint_text: 'Item Quantity'
                #text: '5'
            MDTextField:
                id: purchased_date
                multiline: False
                mode: "rectangle"
                hint_text: 'Purchased date'
                validator: "date"
                date_format: "dd/mm/yyyy"
                date_interval: None, app.ToDay
                helper_text: "use dd/mm/yyyy format date"
                #text: '6/10/2022'
            MDTextField:
                id: selling_price_single
                multiline: False
                mode: "rectangle"
                hint_text: 'Selling Price(single)'
                #text: '15'
            MDTextField:
                id: selling_price_bulk
                multiline: False
                mode: "rectangle"
                hint_text: 'Selling Price(Bulk)'
                #text: '12'
            MDRaisedButton:
            #divider: 'Inset'
                text: 'Save'
                on_release: root.addNewItem()

<MDSalesCard>
    focus_behavior: True
    size_hint: None, None
    size: '295dp', '50dp'
    unfocus_color: app.theme_cls.bg_normal
    focus_color: app.theme_cls.bg_dark
    md_bg_color: app.theme_cls.bg_normal
    pos_hint: {'center_x': .5, 'center_y': .5}
    ripple_behavior: True
    elevation: 4
    on_press: root.sales_detail(root.salesId)
    padding: [0,0,5,0]
    MDBoxLayout:
        orientation: "horizontal"
        pos_hint: {'center_x': .5, 'center_y': .5}
        padding: 10
        spacing: "5sp"
        MDLabel:
            id: salesName
            markup: True
            font_size: '13sp'
            #theme_text_color: "Custom"
            #text_color: [250/255, 115/255, 0]
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: root.salesName
        MDLabel:
            id: salesQty
            markup: True
            font_size: '14sp'
            #theme_text_color: "Custom"
            #text_color: [250/255, 115/255, 0]
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: root.salesQty
        MDLabel:
            id: salesAmount
            markup: True
            font_size: '14sp'
            theme_text_color: "Custom"
            bold: True
            text_color: [250/255, 115/255, 0]
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: root.salesAmount
        MDLabel:
            id: salesDate
            markup: True
            bold: True
            font_size: '11sp'
            theme_text_color: "Custom"
            text_color: [162/255, 104/255, 190/255]
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: root.salesDate

<Customer_sales_list_item>
    radius: [0,0,0,0]
    elevation: 3
    size_hint_y: None
    height: content.height
    ThreeLineListItem:
        id: content
        text: root.itemName
        secondary_text: root.salesDate
        tertiary_text: root.salesRevenue
        divider: None
        _no_ripple_effect: True


<Customer_Sales_layout>
    customer_sales: customer_sales
    orientation: "vertical"
    spacing: "25dp"
    md_bg_color: app.theme_cls.bg_dark
    size_hint_y: None
    height: "400dp"
    ScrollView:
        do_scroll_x: False
        smooth_scroll_end: 10
        MDList:
            spacing: "7dp"
            padding: "7dp"
            id: customer_sales

<MDCustomCard>
    focus_behavior: True
    size_hint: None, None
    size: '310dp', '150dp'
    unfocus_color: app.theme_cls.bg_normal
    focus_color: app.theme_cls.bg_dark
    md_bg_color: app.theme_cls.bg_normal
    customerCompanyName: customerCompanyName
    pos_hint: {'center_x': .5, 'center_y': .5}
    elevation: 3
    _no_ripple_effect: True
    MDBoxLayout:
        orientation: 'vertical'
        MDCardSwipe:
            size_hint_y: None
            height: customerCompanyName.height
            MDCardSwipeLayerBox:
                padding: "8dp"
                radius: [10,10,0,0]
                md_bg_color: (243/255, 63/255, 63/255, 1)
                size_hint: None, None
                size: '310dp', '55dp'
                MDIconButton:
                    icon: "trash-can"
                    pos_hint: {"center_y": .5}
                    #on_release: root.home.deleteCustomer(root.customerId)
                    on_release: root.deleteCustomer()
            MDCardSwipeFrontBox:
                radius: [10,10,0,0]
                unfocus_color: app.theme_cls.bg_normal
                focus_color: app.theme_cls.bg_dark
                md_bg_color: app.theme_cls.bg_normal
                elevation: 3
                size_hint: None, None
                size: '310dp', '55dp'
                MDGridLayout:
                    cols: 3
                    id: customerCompanyName
                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text: ''
                            pos_hint: {'y': .5, 'x':.1}
                        MDIconButton:
                            icon: "account-circle"
                            icon_size: "40sp"
                            theme_icon_color: "Custom"
                            pos_hint: {'y': .15, 'x':.1}
                            disabled_color: app.theme_cls.primary_dark
                            disabled: True
                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            pos_hint: {'y': .5, 'x':.1}
                            bold: True
                            markup: True
                            text: '[b]'+root.companyName+'[/b]'
                        MDLabel:
                            pos_hint: {'y': .4, 'x':.1}
                            color: [167/255, 167/255, 167/255, .7]
                            font_size: "13sp"
                            bold: True
                            markup: True
                            text: root.customerName
                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text: ''
                            pos_hint: {'y': .5, 'x':.5}
                            #halign: 'right'
                        MDIconButton:
                            #halign: 'right'
                            icon: "pencil-outline"
                            icon_size: "30sp"
                            theme_icon_color: "Custom"
                            pos_hint: {'y': .4, 'x':.5}
                            icon_color: app.theme_cls.primary_dark
                            #on_release: root.home.editCustomer(root.customerId)
                            on_release: root.editCustomer()

        MDBoxLayout:
            orientation: 'vertical'
            padding: 10, 10, 10, 0
            spacing: "15sp"
            pos_hint: {'center_x': .5, 'center_y': .5}
            MDLabel:
                id: customePhoneNumber
                markup: True
                text: '[b]Phone Number: [/b] '+root.customerPhoneNumber
                color: [167/255, 167/255, 167/255, .7]
                font_size: '14sp'
                pos_hint: {'center_x': .5, 'center_y': .5}
            MDLabel:
                id: customerTinNumber
                markup: True
                text: '[b]Tin Number: [/b]' + root.customerTinNumber
                color: [167/255, 167/255, 167/255, .7]
                font_size: '14sp'
                pos_hint: {'center_x': .5, 'center_y': .5}
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: "15sp"
            padding: 10, 0, 10, 0
            MDLabel:
                id: customerTotalPurchase
                markup: True
                text: '[b]Total Purchase: [/b]' + str(root.totalPurchased)
                color: [167/255, 167/255, 167/255, .7]
                font_size: '14sp'
                pos_hint: {'center_x': .5, 'center_y': .5}
            MDIconButton:
                icon: "cart-variant"
                on_release: root.customerPurchased(root.customerId)


<MDashCard>
    focus_behavior: True
    size_hint: None, None
    size: '305dp', '105dp'
    #size: root.winSize[0]*.95, '105dp'
    #adaptive_width: True
    #size: self.minimum_size
    unfocus_color: app.theme_cls.bg_normal
    focus_color: app.theme_cls.bg_dark
    md_bg_color: app.theme_cls.bg_normal
    elevation: 4
    ripple_behavior: True
    MDRelativeLayout:
        MDLabel:
            bold: True
            pos_hint: {"x":.1, "y":.27}
            font_size: '14sp'
            text: root.text1
        MDLabel:
            bold: True
            pos_hint: {"x":.11, "y": .07}
            font_size: '25sp'
            text: root.text2
            color: root.cpbBarColor
        MDLabel:
            #bold: True
            pos_hint: {"x":.1, "y":-.2}
            font_size: '13sp'
            text: root.text3
            color: [167/255, 167/255, 167/255, .7]
        MDIconButton:
            icon: root.updownIcon
            disabled: True
            theme_icon_color: "Custom"
            pos_hint: {"x":.87, "y":.57}
            disabled_color: root.cpbBarColor
        MDFloatLayout:
            #md_bg_color: 1, 0, 100/255, .1
            CircularProgressBar:
                size_hint: None, None
                size: 55, 55
                adaptive_size: True
                pos_hint: {"x": .75, "y": .3}
                value: root.cpbValue
                bar_color: root.cpbBarColor


<TopClientsListItem>
    focus_behavior: True
    ripple_behavior: True
    size_hint: None, None
    size: '305dp', '60dp'
    unfocus_color: app.theme_cls.bg_normal
    focus_color: app.theme_cls.bg_dark
    md_bg_color: app.theme_cls.bg_normal
    pos_hint: {'center_x': .5, 'center_y': .5}
    elevation: 2
    radius: [0,0,0,0]
    on_release: root.topCustomerDetail()
    MDBoxLayout:
        orientation: 'horizontal'
        MDIconButton:
            icon: "account"
            disabled: True
            icon_size: "34sp"
            theme_icon_color: "Custom"
            pos_hint: {"center_x":.1, "center_y":.5}
            disabled_color: [167/255, 167/255, 167/255, .7]
        MDBoxLayout:
            orientation: 'vertical'
            MDLabel:
                bold: True
                halign: 'left'
                pos_hint: {"x":.1, "y":.5}
                font_size: '16sp'
                text: root.client_name
            MDLabel:
                bold: True
                halign: 'left'
                pos_hint: {"x":.1, "y":.4}
                font_size: '14sp'
                text: root.company_name
                color: [167/255, 167/255, 167/255, .7]
        MDBoxLayout:
            orientation: 'vertical'
            MDLabel:
                text: ''
                pos_hint: {'y': .5, 'x':.5}
                #halign: 'right'
            MDLabel:
                #bold: True
                #halign: 'right'
                pos_hint: {"x":.5, "y":.4}
                font_size: '14sp'
                text: root.amount
                color: [167/255, 167/255, 167/255, .7]

<BarChart>
    size_hint: None, None
    adaptive_size: True
    canvas.after:
        Color:
            rgba: root.bar_color +[.9]
        RoundedRectangle:
            pos: (self.x, self.y)
            size: self.width, root.set_value/8 # here the dividing factor dpendes on her avg daily sales revenue which will be adjusted by that
            radius: [self.width / 4,]

    MDLabel:
        markup: True
        text: root.text
        bold: True
        font_size: "12sp"
        pos_hint: {"center_x": .5, "y": ((root.set_value/1000)-.4)}
        halign: "center"
        color: root.bar_color

    MDLabel:
        text: root.refer
        bold: True
        font_size: "11sp"
        pos_hint: {"center_x": .5, "y":-.55}
        halign: "center"
        color: root.bar_color


<CircularProgressBar>
    canvas.before:
        Color:
            rgba: root.bar_color + [0.3]
        Line:
            width: root.bar_width
            ellipse: (self.x, self.y, self.width, self.height, 0, 360)
    canvas.after:
        Color:
            rgb: root.bar_color
        Line:
            width: root.bar_width
            ellipse: (self.x, self.y, self.width, self.height, 0, root.set_value*3.6)
    MDLabel:
        text: root.text
        bold: True
        font_size: "15sp"
        pos_hint: {"center_x": .5, "center_y": .5}
        halign: "center"
        color: root.bar_color


Home:
    name: "home"
    tock_tab: tock_tab.__self__
    customerTab: customerTab
    salesTab: salesTab
    monthDropDownMenuCaller: monthDropDownMenuCaller
    cashBank_tab: cashBank_tab
    cashCash_tab: cashCash_tab
    barChartSales: barChartSales
    barChartProfit: barChartProfit
    topClientsList: topClientsList
    salesDashBoardCard: salesDashBoardCard
    profitDashBoardCard: profitDashBoardCard
    customersDashBoardCard: customersDashBoardCard
    expensesDashBoardCard: expensesDashBoardCard
    MDScreen:
        MDBottomNavigation:
            #panel_color: app.theme_cls.primary_light
            #text_color_no rmal: app.theme_cls.bg_normal
            text_color_normal: app.theme_cls.opposite_bg_normal
            selected_color_background: app.theme_cls.bg_normal
            set_bars_color: True
            MDBottomNavigationItem:
                name: 'dashboard'
                text: 'Home'
                icon: 'home-outline'
                on_tab_press: root.on_enter()
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: 20
                    MDTopAppBar:
                        widget_position: 'top'
                        title: "DashBoard"
                        left_action_items: [["sort-variant"]]
                        right_action_items: [["tune-variant", lambda x:app.gotoSetting(), "Settings"]]
                        specific_text_color: app.theme_cls.opposite_bg_normal
                        md_bg_color: app.theme_cls.bg_normal
                        elevation: 1
                    ScrollView:
                        do_scroll_x: False
                        smooth_scroll_end: 10
                        MDBoxLayout:
                            adaptive_size: True
                            padding: "10sp"
                            spacing: "17dp"
                            orientation: 'vertical'
                            pos_hint: {"center_x": .5, "center_y": .5}
                            MDLabel:
                                markup: True
                                text: 'Hello Bety'
                                bold: True
                                font_size: '28sp'
                            MDLabel:
                                text: ''    
                            MDLabel:
                                font_size: '15sp'
                                text: 'Welcome Back!'
                                color: [167/255, 167/255, 167/255, .5]
                            MDashCard:
                                id: salesDashBoardCard
                                focu_color: 1, 0, 100/255, .2
                                unfocu_color: 1, 0, 100/255, .15
                                text1: 'Sales'
                                text2: '$0'
                                text3: 'New Sales This Month'
                                updownIcon: 'arrow-top-right'
                                cpbValue: 0
                                cpbBarColor: [250/255, 115/255, 0]
                            MDBoxLayout:
                                id: barChartSales
                                size_hint_y: .7
                                orientation: 'horizontal'
                                spacing: "13dp"
                                padding: "7dp"
                                adaptive_size: True
                            MDashCard:
                                id: profitDashBoardCard
                                focu_color: 1, 0, 100/255, .2
                                unfocu_color: 1, 0, 100/255, .15
                                text1: 'Profit'
                                text2: '$0'
                                text3: 'Total Profit This Month'
                                updownIcon: 'arrow-top-right'
                                cpbValue: 0
                                cpbBarColor: [38/255, 255/255, 0]
                            MDBoxLayout:
                                id: barChartProfit
                                size_hint_y: .7
                                orientation: 'horizontal'
                                spacing: "13dp"
                                padding: "7dp"
                                adaptive_size: True

                            MDashCard:
                                id: customersDashBoardCard
                                focu_color: 1, 0, 100/255, .2
                                unfocu_color: 1, 0, 100/255, .15
                                text1: 'Clients'
                                text2: '0'
                                text3: 'New Clients This Month'
                                updownIcon: 'arrow-top-right'
                                cpbValue: 0
                                cpbBarColor: [0, 163/255, 250/255]
                            MDBoxLayout:
                                orientation: "vertical"
                                adaptive_size: True
                                MDCard:
                                    #focus_behavior: True
                                    size_hint: None, None
                                    size: '305dp', '55dp'
                                    unfocus_color: app.theme_cls.bg_normal
                                    focus_color: app.theme_cls.bg_dark
                                    md_bg_color: app.theme_cls.bg_normal
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    elevation: 3
                                    radius: [10,10,0,0]
                                    MDGridLayout:
                                        cols: 2
                                        MDBoxLayout:
                                            orientation: 'vertical'
                                            MDLabel:
                                                pos_hint: {'y': .5, 'x':.1}
                                                bold: True
                                                text: 'Top Clients'
                                            MDLabel:
                                                pos_hint: {'y': .4, 'x':.1}
                                                color: [167/255, 167/255, 167/255, .7]
                                                font_size: "12sp"
                                                bold: True
                                                text: "C L I E N T  N A M E"
                                        MDBoxLayout:
                                            orientation: 'vertical'
                                            MDLabel:
                                                text: ''
                                                pos_hint: {'y': .5, 'x':.5}
                                                #halign: 'right'
                                            MDLabel:
                                                #halign: 'right'
                                                color: [167/255, 167/255, 167/255, .7]
                                                pos_hint: {'y': .4, 'x':.5}
                                                font_size: "12sp"
                                                bold: True 
                                                text: "A M O U N T"
                                MDBoxLayout:
                                    #size_hint_y: .7
                                    orientation: 'vertical'
                                    #spacing: "13dp"
                                    #padding: "7dp"
                                    adaptive_size: True
                                    id: topClientsList

                            MDashCard:
                                id: expensesDashBoardCard
                                focu_color: 1, 0, 100/255, .2
                                unfocu_color: 1, 0, 100/255, .15
                                text1: 'Expense'
                                text2: '$0'
                                text3: 'Total expense This Month'
                                updownIcon: 'arrow-top-right'
                                cpbValue: 0
                                cpbBarColor: [1, 0, 100/255]
                                on_release: 
                                    root.manager.transition.direction = "left"
                                    root.manager.current = "expense"


            MDBottomNavigationItem:
                name: 'stock'
                icon: 'poll'
                text: 'Stock'
                #icon: 'chart-box-outline'
                on_tab_press: root.on_tab_stock()
                MDBoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        widget_position: 'top'
                        title: "Stock"
                        left_action_items: [["attachment", lambda x: root.uploadStockFromFile()]]
                        right_action_items: [["plus", lambda x: root.newStock(), "Add"]]
                        specific_text_color: app.theme_cls.opposite_bg_normal
                        md_bg_color: app.theme_cls.bg_normal
                        elevation: 1
                    MDFloatLayout:
                        id: tock_tab
                        radius: [0,0,0,0]
                        md_bg_color: app.theme_cls.bg_normal

                    
            MDBottomNavigationItem:
                name: 'sales'
                text: 'Sales'
                #icon: 'chart-timeline-variant'
                icon: 'trending-up'
                on_tab_press: root.on_tab_sales()
                MDBoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        widget_position: 'top'
                        title: "Sales"
                        theme_text_color: "Custom"
                        #specific_text_color: [250/255, 115/255, 0]
                        left_action_items: [["export-variant", lambda x: root.exportSales()]]
                        right_action_items: [["plus", lambda x: root.newSales(), "Add"]]
                        specific_text_color: app.theme_cls.opposite_bg_normal
                        md_bg_color: app.theme_cls.bg_normal
                        elevation: 1
                    ScrollView:
                        do_scroll_x: False
                        do_scroll_y: False
                        smooth_scroll_end: 10
                        MDBoxLayout:
                            orientation: 'vertical'
                            spacing: 0
                            padding: 8
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            adaptive_size: True
                            MDCard:
                                size_hint: None, None
                                size: '310dp', '30dp'
                                unfocus_color: app.theme_cls.bg_normal
                                focus_color: app.theme_cls.bg_dark
                                md_bg_color: app.theme_cls.bg_normal
                                pos_hint: {'center_x': .5, 'center_y': .5}
                                elevation: 1
                                MDBoxLayout:
                                    orientation: "horizontal"
                                    MDLabel:
                                        id: monthDropDownMenuCaller
                                        text: ''
                                        font_size: '20sp'
                                        #theme_text_color: "Custom"
                                        #text_color: [250/255, 115/255, 0, .9]
                                        bold: True
                                        #halign: 'left'
                                        pos_hint: {'center_y': .5, 'x': .6}
                                    MDIconButton:
                                        icon: "chevron-down"
                                        icon_size: "30sp"
                                        halign: 'right'
                                        theme_icon_color: "Custom"
                                        #icon_color: [250/255, 115/255, 0, .9]
                                        pos_hint: {'center_y': .5, 'x': .8}
                                        on_release: root.main_monthMenu.open()
                            MDCard:
                                focus_behavior: False
                                size_hint: None, None
                                size: '310dp', '420dp'
                                unfocus_color: app.theme_cls.bg_normal
                                focus_color: app.theme_cls.bg_dark
                                md_bg_color: app.theme_cls.bg_normal
                                pos_hint: {'center_x': .5}
                                elevation: 3
                                #ripple_behavior: True
                                MDFloatLayout:
                                    MDBoxLayout:
                                        orientation: "vertical"
                                        pos_hint: {'center_x': .5, 'center_y': .5}
                                        MDCard:
                                            #focus_behavior: True
                                            size_hint: None, None
                                            size: '305dp', '50dp'
                                            unfocus_color: app.theme_cls.bg_normal
                                            focus_color: app.theme_cls.bg_dark
                                            md_bg_color: app.theme_cls.bg_normal
                                            pos_hint: {'center_x': .5, 'center_y': .5}
                                            elevation: 3
                                            radius: [10,10,0,0]
                                            MDGridLayout:
                                                cols: 4
                                                padding: "12sp"
                                                spacing: "7sp"
                                                adaptive_height: True
                                                MDLabel:
                                                    bold: True
                                                    text: 'Item'
                                                    color: [167/255, 167/255, 167/255, .7]
                                                MDLabel:
                                                    bold: True
                                                    text: 'Qty'
                                                    color: [167/255, 167/255, 167/255, .7]
                                                MDLabel:
                                                    bold: True
                                                    text: 'Amount'
                                                    color: [250/255, 115/255, 0, .8]
                                                MDLabel:
                                                    bold: True
                                                    text: 'Date'
                                                    color: [162/255, 104/255, 190/255, .8]
                                        ScrollView:
                                            do_scroll_x: False
                                            smooth_scroll_end: 10
                                            size_hint_y: .8
                                            MDBoxLayout:
                                                id: salesTab
                                                adaptive_size: True
                                                padding: "10sp"
                                                spacing: "7sp"
                                                pos_hint: {'center_x': .5, 'center_y': .5}
                                                orientation: 'vertical'
                                                            

            MDBottomNavigationItem:
                name: 'cashFlow'
                text: 'Cash'
                icon: 'wallet-outline'
                on_tab_press: root.on_tab_cash()
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: "5dp"
                    MDTopAppBar:
                        widget_position: 'top'
                        title: "Cash"
                        left_action_items: [["sort-variant"]]
                        right_action_items: [["plus"]]
                        specific_text_color: app.theme_cls.opposite_bg_normal
                        md_bg_color: app.theme_cls.bg_darkest
                        elevation: 1
                    MDBoxLayout:
                        orientation: 'vertical'
                        #adaptive_size: True
                        MDLabel:
                            text: 'Bank'
                            font_size: '20sp'
                            adaptive_size: True                            
                            bold: True
                            pos_hint: {'center_y': .5, 'x': .1}
                            color: [167/255, 167/255, 167/255, .7]
                        MDBoxLayout:
                            id: cashBank_tab
                            orientation: 'vertical'
                            #md_bg_color: app.theme_cls.bg_normal
                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text: 'Cash'
                            font_size: '20sp'
                            adaptive_size: True                            
                            bold: True
                            pos_hint: {'center_y': .5, 'x': .1}
                            color: [167/255, 167/255, 167/255, .7]
                        MDFloatLayout:
                            id: cashCash_tab                        
                            md_bg_color: app.theme_cls.bg_normal


            MDBottomNavigationItem:
                name: 'customer'
                text: 'Customer'
                icon: 'account-multiple-outline'
                on_tab_press: root.on_tab_customer()
                MDBoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        widget_position: 'top'
                        title: "Customers"
                        left_action_items: [["attachment", lambda x: root.uploadCustomerFromFile()], ["refresh", lambda x: root.reFresh(), "Refresh"]]
                        right_action_items: [["plus", lambda x: root.newCustomer(), "Add"]]
                        specific_text_color: app.theme_cls.opposite_bg_normal
                        md_bg_color: app.theme_cls.bg_normal
                        elevation: 1
                    ScrollView:
                        do_scroll_x: False
                        smooth_scroll_end: 10    
                        MDBoxLayout:
                            id: customerTab
                            adaptive_size: True
                            padding: "10sp"
                            spacing: "17sp"
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            orientation: 'vertical'